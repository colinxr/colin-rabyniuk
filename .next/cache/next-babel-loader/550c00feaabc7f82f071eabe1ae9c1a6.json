{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport Prismic from 'prismic-javascript';\nimport Post from './Post.js';\n\nfunction Blog() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      page = _useState4[0],\n      setPage = _useState4[1]; // const apiEndpoint = process.env.REACT_APP_API\n\n\n  var endpoint = 'https://colin-rabyniuk.cdn.prismic.io/api/v2';\n  useEffect(function () {\n    fetchPosts();\n  }, []);\n\n  var fetchPosts = function fetchPosts() {\n    Prismic.getApi(endpoint).then(function (api) {\n      return api.query(Prismic.Predicates.at('document.type', 'post'), {\n        pageSize: 10,\n        page: page\n      });\n    }).then(function (resp) {\n      console.log(resp);\n      setPosts(resp.results);\n    });\n  };\n\n  return React.createElement(\"main\", {\n    role: \"main\",\n    className: \"jsx-684268146\" + \" \" + \"block\"\n  }, React.createElement(\"div\", {\n    className: \"jsx-684268146\" + \" \" + \"wrapper\"\n  }, React.createElement(\"h3\", {\n    className: \"jsx-684268146\"\n  }, \"Journal\"), posts !== undefined && posts.map(function (post, i) {\n    return React.createElement(Post, {\n      key: i,\n      post: post\n    });\n  }), page > 1 && React.createElement(\"button\", {\n    onCLick: function onCLick() {\n      setPage(page - 1);\n    },\n    className: \"jsx-684268146\"\n  }, \"Previous Page\"), React.createElement(\"button\", {\n    onClick: function onClick() {\n      setPage(page + 1);\n    },\n    className: \"jsx-684268146\"\n  }, \"Next Page\")), React.createElement(_JSXStyle, {\n    id: \"684268146\"\n  }, [\"h3.jsx-684268146{color:#4a4a4a;}\"]));\n}\n\nexport default Blog;","map":{"version":3,"sources":["/Users/colin/Sites/colin-rabyniuk/components/Blog.js"],"names":["React","useState","useEffect","Prismic","Post","Blog","posts","setPosts","page","setPage","endpoint","fetchPosts","getApi","then","api","query","Predicates","at","pageSize","resp","console","log","results","undefined","map","post","i"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAEA,SAASC,IAAT,GAAgB;AAAA,kBACYJ,QAAQ,EADpB;AAAA;AAAA,MACPK,KADO;AAAA,MACAC,QADA;;AAAA,mBAEUN,QAAQ,CAAC,CAAD,CAFlB;AAAA;AAAA,MAEPO,IAFO;AAAA,MAEDC,OAFC,kBAId;;;AACA,MAAMC,QAAQ,GAAG,8CAAjB;AAEAR,EAAAA,SAAS,CAAC,YAAM;AAAES,IAAAA,UAAU;AAAI,GAAvB,EAAyB,EAAzB,CAAT;;AAEA,MAAMA,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBR,IAAAA,OAAO,CAACS,MAAR,CAAeF,QAAf,EACGG,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,KAAJ,CACXZ,OAAO,CAACa,UAAR,CAAmBC,EAAnB,CAAsB,eAAtB,EAAuC,MAAvC,CADW,EAEX;AAAEC,QAAAA,QAAQ,EAAE,EAAZ;AAAgBV,QAAAA,IAAI,EAAEA;AAAtB,OAFW,CAAJ;AAAA,KADX,EAKGK,IALH,CAKQ,UAAAM,IAAI,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAZ,MAAAA,QAAQ,CAACY,IAAI,CAACG,OAAN,CAAR;AACD,KARH;AASD,GAVD;;AAYA,SACE;AAAwB,IAAA,IAAI,EAAC,MAA7B;AAAA,uCAAgB;AAAhB,KACE;AAAA,uCAAe;AAAf,KACE;AAAA;AAAA,eADF,EAGIhB,KAAK,KAAKiB,SAAV,IACEjB,KAAK,CAACkB,GAAN,CAAU,UAACC,IAAD,EAAOC,CAAP;AAAA,WAAa,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,CAAX;AAAc,MAAA,IAAI,EAAED;AAApB,MAAb;AAAA,GAAV,CAJN,EAOIjB,IAAI,GAAG,CAAP,IACE;AAAQ,IAAA,OAAO,EAAE,mBAAM;AAAEC,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AAAkB,KAA3C;AAAA;AAAA,qBARN,EAYE;AAAQ,IAAA,OAAO,EAAE,mBAAM;AAAEC,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AAAmB,KAA5C;AAAA;AAAA,iBAZF,CADF;AAAA;AAAA,2CADF;AAuBD;;AAED,eAAeH,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Prismic from 'prismic-javascript';\nimport Post from './Post.js';\n\nfunction Blog() {\n  const [posts, setPosts] = useState();\n  const [page, setPage] = useState(1);\n\n  // const apiEndpoint = process.env.REACT_APP_API\n  const endpoint = 'https://colin-rabyniuk.cdn.prismic.io/api/v2'\n\n  useEffect(() => { fetchPosts() }, [])\n\n  const fetchPosts = () => {\n    Prismic.getApi(endpoint)\n      .then(api => api.query(\n        Prismic.Predicates.at('document.type', 'post'),\n        { pageSize: 10, page: page }\n      ))\n      .then(resp => { \n        console.log(resp)\n        setPosts(resp.results) \n      });\n  }\n\n  return (\n    <main className=\"block\" role=\"main\">\n      <div className=\"wrapper\">\n        <h3>Journal</h3>\n        {\n          posts !== undefined && \n            posts.map((post, i) => <Post key={i} post={post}></Post> )\n        }\n        {\n          page > 1 &&\n            <button onCLick={() => { setPage(page - 1)}}>\n              Previous Page\n            </button>\n        }\n        <button onClick={() => { setPage(page + 1) }}>\n          Next Page\n        </button>\n      </div>\n      <style jsx>{`\n        h3 { color: #4a4a4a; }\n      `}</style>\n    </main>\n  )\n}\n\nexport default Blog;"]},"metadata":{},"sourceType":"module"}